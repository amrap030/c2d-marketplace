\chapter{Background}
\label{cha:background}

- blockchain/decentralized systems
- online marketplace, data marketplace, decentralized data marketplace
- smart contract
- fair exchange
- erc721
- erc20
- zkp
- on-/off-chain
- snarks, starks, bulletproofs
- gdpr, privacy, information security

%VOC is a derivative of Verifiable Computation and aims to secure the integrity of computations performed by untrusted parties off the Blockchain. The result of the computation is then published to the Blockchain and verified on-chain with a cryptographic proof, attesting its correctness. Off-loading the computation has multiple benefits -- (i.) it increases the scalability by avoiding complex redundant computations on each node; (ii.) it reduces on-chain transaction costs by significantly lowering the size of transactions; and (iii.) it improves privacy by hiding PII and confidential data from the public ledger. \cite{eberhardtOffchainingModelsApproaches2018,eberhardtZoKratesScalablePrivacyPreserving2018a,simunicVerifiableComputingApplications2021,xuSlimChainScalingBlockchain} 

%According to \cite{eberhardtOffchainingModelsApproaches2018}, a reasonable VC scheme for off-chain computations needs to fulfill the following requirements: (i.) non-interactivity; (ii.) cheap verification; (iii.) weak security assumptions; and (iv.) zero-knowledge. ZkSNARKs, ZkSTARKs and Bulletproofs provide a valid approach to the aforementioned requirements. ZkSNARKs are a type of Zero-knowledge proof (ZKP) that are \emph{non-interactive} and \emph{succinct}. \emph{Non-interactivity} defines the possibility to convince a verifier of a particular statement with only \emph{one} message \cite{eberhardtOffchainingModelsApproaches2018,eberhardtZoKratesScalablePrivacyPreserving2018a,simunicVerifiableComputingApplications2021}. \emph{Succinct} defines a proof that is small in size, compared to ZkSTARKs and Bulletproofs, and can be verified cheaply and quickly, typically within a few milliseconds \cite{simunicVerifiableComputingApplications2021}. This thesis uses a ZKP with ZkSNARKs for verifiable computations on private datasets.

\section{Zero-knowledge Proof}
\label{sec:zkp}

A \acrfull{zkp}, first introduced in 1989 by Shafi Goldwasser and Silvio Micali \cite{doi:10.1137/0218012}, is a method to prove the validity of a statement without revealing any more information, besides the certainty, that this statement indeed is valid \cite{simunicVerifiableComputingApplications2021}. Suppose you have a traditional deck of 52 cards, of which 26 are red and 26 are black. You as the prover randomly choose one card and want to prove that your card is red, without revealing it. To prove this statement, you simply need to give the verifier all black cards. This is a real-world example for a \acrshort{zkp}. According to that, a prover is the one who proves the statement to another party called the verifier.

WHY ZKP?

\subsection{Requirements for Zero-knowledge Proofs}
\label{subsec:zkp_req}

Any \acrshort{zkp} needs to satisfy at least 3 requirements -- \emph{Completeness}, \emph{Soundness}, and \emph{Zero-knowledge}. With \emph{Completeness}, an honest verifier will be convinced that the statement is true by an untrusted prover if the statement is true \cite{simunicVerifiableComputingApplications2021}. With \emph{Soundness} no cheating prover can convince the honest verifier that the statement is true, except with some small probability if the statement is false \cite{simunicVerifiableComputingApplications2021}. Lastly, with \emph{Zero-knowledge}, the verifier learns no more information, except the validity of the statement \cite{simunicVerifiableComputingApplications2021}. Furthermore, it is impossible for the verifier to learn private inputs from the proof \cite{simunicVerifiableComputingApplications2021}.

\acrlong{zkp}'s can be divided into \emph{interactive} - and \emph{non-interactive} \acrshort{zkp}'s. An interactive \acrshort{zkp} requires two parties, a prover and a verifier, to interact back and forth until the verifier is convinced about the validity of a statement. This provides limited usefulness for real-world applications and makes it impossible to be verified repeatedly by any party. Consequently, Hum et. al \cite{humZeroKnowledgeItsApplications} introduced the \acrfull{nizkp} as a proof system that is able to convince a verifier of a particular statement with only \emph{one} message \cite{eberhardtOffchainingModelsApproaches2018,eberhardtZoKratesScalablePrivacyPreserving2018a,simunicVerifiableComputingApplications2021}. This allows the proof to be verified repeatedly by any party and provides greater efficiency and flexibility for real-world applications. The foundation is a shared random string, which is common between the prover and verifier. ZK-SNARKs, ZK-STARKs, and Bulletproofs are examples of non-interactive \acrshort{zkp}'s.

%\subsection{Types of Zero-knowledge Proofs}
%\label{subsec:zkp_types}

\subsubsection{ZK-SNARKs}
\label{subsubsec:zksnarks}

\textbf{Z}ero-\textbf{K}nowledge \textbf{S}uccinct \textbf{N}on-Interactive \textbf{Ar}gument of \textbf{K}nowledge (\acrshort{zksnark}) is a type of \acrshort{zkp} with special properties. \emph{Succinctness} means, that the proof is small in size, compared to ZK-STARKs and Bulletproofs, and can be verified cheaply and quickly, typically within a few milliseconds \cite{simunicVerifiableComputingApplications2021}. \emph{Non-Interactivity} describes the possibility to convince a verifier of a particular statement with only \emph{one} message \cite{eberhardtOffchainingModelsApproaches2018,eberhardtZoKratesScalablePrivacyPreserving2018a,simunicVerifiableComputingApplications2021}. The \emph{Argument} is the proof that satisfies completeness and soundness requirements. (besser)

\acrshort{zksnark}'s require a one-time trusted setup, i.e. the prover and verifier need to agree on one \acrfull{csr} to generate some public parameters. These in turn are used to generate and verify proofs. The \acrshort{csr} is referred to as \emph{toxic waste} because it is possible to create undetectable fake proofs if it is leaked. Consequently, in a trusted setup, participants need to trust each other to destroy the toxic waste for the scheme to be secure. One way to mitigate this security risk is to perform a trusted setup ceremony with \acrfull{smpc}. In this way, multiple participants contribute some randomness to the \acrshort{csr}, and only one participant needs to destroy his toxic waste in order to make the scheme entirely secure. Unfortunately, the \acrshort{csr} is not upgradeable, because the trusted setup is a one-time event, tied to each circuit.

For encryption, \acrshort{zksnark}'s use elliptic curve cryptography, in particular the \acrfull{ecdsa}. This elliptic curve is then paired with a proving scheme, most famously the Groth16 \cite{grothSizePairingBasedNoninteractive2016} proving scheme. Groth16 is currently the benchmark for \acrshort{zksnark}'s because of the small proof size of $\sim O(1)$ and an on-chain verification complexity of $\sim O(1)$ \cite{sallerasZPiEZeroKnowledgeProofs2021}.\footnote{https://github.com/matter-labs/awesome-zero-knowledge-proofs\#comparison-of-the-most-popular-zkp-systems} This makes it highly scalable and very efficient for blockchain-based applications, as it results in lower verification gas costs. However, the evolution of quantum computers can potentially break the \acrfull{dlp} on elliptic curves, making \acrshort{zksnark}'s \textbf{not} post-quantum secure.

One prominent example that employs \acrshort{zksnark}'s is Zcash \cite{bensassonZerocashDecentralizedAnonymous2014}. Zcash has strong privacy guarantees, as it makes payments anonymously by shielded transactions with \acrshort{zkp}'s. The implementation first started with the Pinocchio \cite{parnoPinocchioNearlyPractical} protocol, followed by the Jens Groth \cite{grothSizePairingBasedNoninteractive2016} protocol after the Sapling upgrade\footnote{https://z.cash/technology/zksnarks/}, and finally, the Orchard shielded payment protocol\footnote{https://zips.z.cash/zip-0224}, using the Halo 2{\footnote{https://halo2.dev/}\textsuperscript{,}\footnote{https://zcash.github.io/halo2/}} proving scheme. At this stage, Zcash is able to remove the trusted setup while still providing high scalability. In addition, Zcash supports a universal and updatable \acrshort{csr}. This new generation of a \acrshort{zksnark} is called a \textbf{S}uccinct \textbf{N}on-interactive \textbf{O}ecumenical (Universal) a\textbf{R}gument of \textbf{K}nowledge. \acrshort{zksnork}. Sonic \cite{mallerSonicZeroKnowledgeSNARKs2019}, PLONK \cite{gabizonPlonKPermutationsLagrangebases}, and Marlin \cite{chiesaMarlinPreprocessingZkSNARKs2020} are examples of \acrshort{zksnork}'s with a universal and updateable trusted setup.

\subsubsection{ZK-STARKs}
\label{subsubsec:zkstarks}

\subsubsection{Bulletproofs}
\label{subsubsec:bulletproofs}