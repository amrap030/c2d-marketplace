\chapter{Related Work}
\label{cha:relatedwork}

Blockchain-based data trading platforms have been researched for a long time. There are various approaches where blockchains are used (i.) as a transparent tamper-proof log of events and immutable link to an asset; (ii.) as an enforcement point for access control decisions; (iii.) as a medium to ensure fair exchange; and (iv.) as a highly secure and available infrastructure. However, the degree of privacy, ownership, fairness, and regulation is very different among those implementations. Therefore, various off-chain components were proposed on top of the blockchain to improve these properties.

% data quality

% also asymmetric key with public key infrastructure to encrypt plaintext and decrypt ciphertext?https://cpl.thalesgroup.com/faq/key-secrets-management/what-asymmetric-key-or-asymmetric-key-cryptography

% ramachandranDecentralizedDataMarketplace2018 - rating system to ensure trust
% banerjeeBlockchainEnabledData2019 - encryption and zkp, homomorphic encryption could be added, data leaves boundaries -> our approach not
% truongSecureDecentralizedSharing2019 - private blockchain hyperledger, data stored in cloud but encrypted before

% bisschen mehr auf blockchain eingehen + alle anderen properties, weniger fairness

In the most straightforward implementation \cite{ozyilmazIDMoBIoTData2018,banerjeeBlockchainEnabledData2019}, sellers use a symmetric key to encrypt datasets before they are stored or transferred to the buyer. This protects the dataset's privacy and weakens trust assumptions on any intermediary storage platform. Decryption keys are then distributed securely to the buyer after purchasing a dataset. Truong et al. \cite{truongSecureDecentralizedSharing2019} rely on encrypted datasets as well, however, with a more sophisticated key-distribution scheme. Accordingly, prefix encryption, as a form of Hierarchical Identity-Based Encryption (HIBE), links the decryption key to an identity, simplifying key distribution and allowing fine-grained access control. Nevertheless, both approaches lack privacy and regulation as soon as the dataset is decrypted. Our proposal has end-to-end privacy by default without encryption, such that only a computed result of the raw dataset leaves the boundaries of the seller. 

Serrano and Cuenca \cite{serranoPeertoPeerOwnershipPreservingData2021} enhance data ownership, privacy, and regulation with \acrfull{he}. According to that, buyers can perform arbitrary computations on encrypted datasets, while the result is decrypted by the seller. Hence, raw datasets never leave the boundaries of the seller. While this is another valid approach to a Compute-to-Data paradigm it severely lacks output verifiability, introducing higher trust assumptions in all participants to act honestly. Our approach requires no trust since computations are cryptographically verifiable on the blockchain due to \acrshort{zkp}'s. A different approach is followed by Enigma \cite{shrobeEnigmaDecentralizedComputation2018} which uses \acrfull{smpc} for data queries with guaranteed privacy by design. With \acrshort{smpc}, every party in the protocol has only access to a meaningless piece of data, whereas only the buyer finally receives the result of the computation. Enigma even uses cryptographic proofs on the blockchain to enable public output verifiability and security deposits to incentivize honest behavior. Unlike our approach, Enigma needs a significant amount of computing nodes to make the system entirely secure. Our marketplace instead could potentially work with one buyer and one seller node.

Dai et al. propose another Compute-to-Data paradigm with a secure data trading ecosystem \cite{daiSDTESecureBlockchainBased2020} for statistical queries and aggregations on private datasets. Ownership, privacy, and correct computation of the dataset are ensured in a \acrfull{tee}, specifically using Intelâ€™s Software Guard Extension (SGX) enclaves. Hynes et al. \cite{hynesDemonstrationSterlingPrivacypreserving2018a} as well as Xiao et al. \cite{xiaoPrivacyGuardEnforcingPrivate2020} follow similar approaches, while the latter adds (i.) a novel way to commit the computation result to the blockchain; and (ii.) a verifiable proof to show compliance to data usage policies as a consumer. However, all approaches require special \acrshort{tee} compatible hardware, and \acrshort{tee}'s have been shown to be susceptible to side-channel attacks \cite{brasserSoftwareGrandExposure,biondoGuardDilemmaEfficient}.

One of the most privacy-preserving approaches is followed in \cite{fotiouPrivacypreservingStatisticsMarketplace2021} by Fotiou et al. with a computation result based on \acrfull{dp}. "\acrshort{dp} addresses the paradox of learning nothing about an individual while learning useful information about a population" \cite{tsaloliDifferentialPrivacyMeets}. This implicitly introduces an error margin into the computation result. However, this paper does not implement output verifiability. Albeit, \cite{narayanVerifiableDifferentialPrivacy2015,tsaloliDifferentialPrivacyMeets,koutsosAgoraPrivacyAwareData} show that output verifiability with \acrshort{dp} is possible by the use of \acrshort{zkp}'s.

%agora
%Data privacy: no party can learn any information about the
%raw data of the generators, apart from the function output
%that is learnt by the broker and paying consumers.
%Output verifiability: no broker can successfully sell an incorrect
%or falsified result to a consumer.
%Atomicity of payments: no entity can avoid paying for services,
%i.e., generators are reimbursed for their data and
%brokers are paid for providing function outputs.