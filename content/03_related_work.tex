\chapter{Related Work}
\label{cha:relatedwork}

Blockchain-based data trading platforms have been researched for a long time. There are various approaches where blockchains are used (i.) as a transparent tamper-proof log of events, immutable link to an asset, and automated payments; (ii.) as an auditor; (iii.) as an enforcement point for access control decisions; (iv.) as a medium to ensure fair exchange; and (v.) as a highly secure and available infrastructure. However, the degree of privacy, ownership, regulation, efficiency, and fairness is very different among those implementations. To improve these properties, various off-chain components were proposed on top of the blockchain.

In the most straightforward implementation \cite{ozyilmazIDMoBIoTData2018,banerjeeBlockchainEnabledData2019}, sellers use a symmetric key to encrypt datasets before they are stored on or off-chain. This protects the dataset's privacy and weakens trust assumptions on any intermediary storage platform. Decryption keys are then distributed securely to the buyer after purchasing a dataset. Truong et al. \cite{truongSecureDecentralizedSharing2019} rely on encrypted datasets as well, however, with a more sophisticated key-distribution scheme. Accordingly, prefix encryption, as a form of \acrfull{hibe}, links the decryption key to an identity, simplifying key distribution and allowing fine-grained access control. Hyperledger\footnote{https://www.hyperledger.org/} as their private blockchain backend acts as a policy decision point for data access. Nevertheless, both approaches lack privacy, ownership, and regulation as soon as the dataset is decrypted. Our proposal is designed for public permission-less blockchains and has end-to-end privacy by design without encryption, such that only a computed result of the raw dataset leaves the boundaries of the seller. 

Serrano and Cuenca \cite{serranoPeertoPeerOwnershipPreservingData2021} enhance data privacy, ownership, and regulation with \acrfull{he}. According to that, buyers can perform arbitrary computations on encrypted datasets, while the seller decrypts the result, audited by a blockchain. Hence, raw datasets never leave the boundaries of the seller, however, their approach lacks output verifiability, introducing higher trust assumptions in all participants to act honestly. Our approach requires no trust since computations are cryptographically verifiable on the blockchain due to \acrshort{zkp}'s. Furthermore, training an encrypted model has shown to be several orders of magnitude slower than its plaintext counterpart and thus inefficient. To further enhance privacy in \acrshort{he}, Koutsos et al. \cite{koutsosAgoraPrivacyAwareData} implemented a novel \acrfull{fe} scheme. In contrast to \acrshort{he}, \acrshort{fe} uses keys that are generated only once by a trusted authority who is subsequently not involved in the protocol anymore. This weakens trust assumptions, nevertheless, \acrshort{fe} is currently impractical, and \cite{koutsosAgoraPrivacyAwareData} only supports the computation of weighted sums. In contrast to that, our approach is compatible with arbitrary computation algorithms. A different off-chain computation approach is followed by Enigma \cite{shrobeEnigmaDecentralizedComputation2018} which uses \acrfull{smpc} for data queries with guaranteed privacy by design. With \acrshort{smpc}, every party in the protocol has only access to a meaningless piece of data, whereas only the buyer finally receives the result of the computation. Enigma even uses cryptographic proofs on the blockchain to enable public output verifiability and security deposits to incentivize honest behavior. Unlike our approach, Enigma needs a significant amount of computing nodes to make the system entirely secure. Our marketplace does not require a decentralized network of computing nodes.

Dai et al. propose a secure data trading ecosystem \cite{daiSDTESecureBlockchainBased2020} for statistical queries and aggregations on private datasets. Ownership, privacy, and correct computation of the dataset are ensured in a \acrfull{tee}, specifically using Intelâ€™s Software Guard Extension (SGX) enclaves. Hynes et al. \cite{hynesDemonstrationSterlingPrivacypreserving2018a} as well as Xiao et al. \cite{xiaoPrivacyGuardEnforcingPrivate2020} follow similar approaches, while the latter adds (i.) a novel way to commit the computation result to the blockchain; and (ii.) a verifiable proof to show compliance to data usage policies as a consumer. However, all approaches require special \acrshort{tee} compatible hardware, and \acrshort{tee}'s have been shown to be susceptible to side-channel attacks \cite{brasserSoftwareGrandExposure,biondoGuardDilemmaEfficient}.

One of the most privacy-preserving approaches is followed in \cite{fotiouPrivacypreservingStatisticsMarketplace2021} by Fotiou et al. with a computation result based on \acrfull{dp}. "\acrshort{dp} addresses the paradox of learning nothing about an individual while learning useful information about a population" \cite{tsaloliDifferentialPrivacyMeets}. This purposely introduces an error margin into the computation result. They leverage blockchain as an immutable log of events to be used for dispute resolution and to ensure fair exchange. While the proposed implementation is fast and lightweight, it does not implement output verifiability. However, \cite{tsaloliDifferentialPrivacyMeets,narayanVerifiableDifferentialPrivacy2015} show that output verifiability with \acrshort{dp} is possible by using \acrshort{zkp}'s. Froelicher et al. \cite{froelicherDrynxDecentralizedSecure2020} propose a unique system that combines \acrshort{he}, \acrshort{zkp}, and \acrshort{dp} into verifiable data sharing for statistical queries and training of machine learning models. It supports highly efficient computations on large datasets with up to 600.000 records and 12 features in less than 2 seconds and output verification in less than 22 seconds. Blockchain technology is used to persist query and verification results. However, they rely on a private permissioned blockchain whereas our approach is designed for public permission-less blockchains.

% abschliessender satz our approach